<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario Completo</title>
</head>

<body> <!--El formulario-->
    <form name="formulario" action="#" method="post" onsubmit="return validaFormulario(this)">
        <fieldset>
            <legend>Datos personales</legend>
            <p>
                <label for="nombre">Nombre:</label>
                <input type="text" id="nombre" name="nombre">*
                <label for="primerApellido">Primer apellido:</label>
                <input type="text" id="primerApellido" name="primerApellido">*
                <label for="segundoApellido">Segundo apellido:</label>
                <input type="text" id="segundoApellido" name="segundoApellido">*
            </p>
            <p>
                <label for="direccion">Direccion:</label>
                <input type="text" id="direccion" name="direccion" placeholder="calle o plaza, número y piso">
            </p>
            <p>
                <label for="telefono">Teléfono:</label>
                <input type="tel" id="telefono" name="telefono" placeholder="123 33 33 33">*
            </p>
            <p>
                <label for="email">Email:</label>
                <input type="text" id="email" name="email" placeholder="ejemplo@ejemplo.com">*
            </p>
            <p>
                <label for="contrasena">Contraseña:</label>
                <input type="password" id="contrasena" name="contrasena">*
            </p>
            <p>
                Sexo<br>
                <label>
                    <input type="radio" name="sexo" id="sexo" value="varon"> Varón
                </label><br>
                <label>
                    <input type="radio" name="sexo" id="sexo" value="mujer"> Mujer
                </label><br>
            </p>
        </fieldset>
        <fieldset>
            <legend>Nivel de estudios e intereses</legend>
            <p>
                Nivel de estudios:<br>
                <label>
                    <input type="radio" name="nivel-estudios" value="escolar" checked> Certificado escolar
                </label><br>
                <label>
                    <input type="radio" name="nivel-estudios" value="eso"> Graduado en E.S.O.
                </label><br>
                <label>
                    <input type="radio" name="nivel-estudios" value="bachillerFp"> Bachiller - Formación Profesional
                </label><br>
                <label>
                    <input type="radio" name="nivel-estudios" value="diplomado"> Diplomado
                </label><br>
                <label>
                    <input type="radio" name="nivel-estudios" value="licenciado"> Licenciado o Doctorado
                </label><br>
            </p>
            <p>
                Recibir artículos sobre los siguientes temas:<br>
                <label>
                    <input type="checkbox" name="temas" id="temas" value="musica"> Música
                </label><br>
                <label>
                    <input type="checkbox" name="temas" id="temas" value="deportes"> Deportes
                </label><br>
                <label>
                    <input type="checkbox" name="temas" id="temas" value="cine"> Cine
                </label><br>
                <label>
                    <input type="checkbox" name="temas" id="temas" value="libro"> Libros
                </label><br>
                <label>
                    <input type="checkbox" name="temas" id="temas" value="ciencia"> Ciencia
                </label><br>

            </p>
        </fieldset>
        <fieldset>
            <legend>Datos sobre la revista</legend>
            <p>
                <label for="frecuencia">Frecuencia con la que se recibirá la revista:</label>
            </p>
            <select id="frecuencia" name="frecuencia">
                <option value="diaria">Diaria</option>
                <option value="semanal" selected>Semanal</option>
                <option value="mensual">Mensual</option>
                <option value="semestral">Semestral</option>
                <option value="anual">Anual</option>
            </select>
            <p>
                Puedes mandar tu artículo sobre cualquier tema de los que tratamos. Nosotros lo valoraremos para que
                pueda ser publicado.</p>
            <p>
                <label for="articulo">Mandar artículo:</label>
                <input type="file" id="articulo" name="articulo">
            </p>
            <p>
                <label for="comentario">Si deseas mandar simplemente una opinion o comentario escríbelo
                    aquí:</label><br>
                <textarea id="comentario" name="comentario" placeholder="Escribe tu comentario..." rows="5"
                    cols="40"></textarea>
            </p>
        </fieldset>
        <fieldset>
            <legend>Comenzar de nuevo</legend>
            <p>
                Borrar todos los datos del formulario y volver a empezar:<br>
                <button type="reset">Borrar todo</button> <!--El botón para borrarlo todo-->
            </p>
        </fieldset>
        <fieldset>
            <legend>Enviar</legend>
            <p>Enviar formulario por correo electrónico. Al pulsar en el botón se abrirá la página de envío de correo.
                En esa página se pulsa en enviar.</p>
            <button type="submit">Enviar por correo</button> <!--El botón para enviar-->
        </fieldset>
    </form>
    <script>
        function validaFormulario(formulario) {
            let esValido = true;

            // Los inputs
            let nombreInput = document.getElementById("nombre");
            let primerInput = document.getElementById("primerApellido");
            let segundoInput = document.getElementById("segundoApellido");
            let telefonoInput = document.getElementById("telefono");
            let emailInput = document.getElementById("email");
            let contrasena = document.getElementById("contrasena");

            // La expresiones regulares
            let exRegNombreApellido = /^[A-Za-zÁÉÍÓÚáéíóúÑñ]+$/;
            let exRegTelefono = /^[0-9]{9}$/;
            let exRegEmail = /^(.+\@.+\..+)$/;

            /// Mensaje de error
            let mensaje = "";
            
            // Esta variable la utilizamos para determinar el primer error
            let primerError = null;
            

            // Verifica si el campo del nombre no está vacío
            if (nombreInput.value === "")  {
                mensaje += "El campo del nombre no debe estar vacío\n";
                esValido = false; // Esta línea sirve para invalidar el formulario en caso de que esté mal
                if (!primerError) {
                    primerError = nombreInput; // En caso de que no haya errores antes, esto determina el primer error para después centrar el campo
                }
            }

            // Verifica si el nombre está bien escrito
            if (exRegNombreApellido.test(nombreInput.value) === false) {
                mensaje += "El nombre que ha introducido no es válido\n";
                esValido = false; // Esta línea sirve para invalidar el formulario en caso de que esté mal
                if (!primerError) { 
                    primerError = nombreInput; // En caso de que no haya errores antes, esto determina el primer error para después centrar el campo
                }
            }

            // Verifica si el campo del primer apellido no está vacío
            if (primerInput.value === "") {
                mensaje += "El campo del primer apellido no debe estar vacío\n";
                esValido = false; // Esta línea sirve para invalidar el formulario en caso de que esté mal
                if (!primerError) {
                    primerError = primerInput; // En caso de que no haya errores antes, esto determina el primer error para después centrar el campo
                }
            }

            // Verifica si el primer apellido está bien escrito
            if (exRegNombreApellido.test(primerInput.value) === false) {
                mensaje += "El primer apellido que ha introducido no es válido\n"
                esValido = false; // Esta línea sirve para invalidar el formulario en caso de que esté mal
                if (!primerError) {
                    primerError = primerInput; // En caso de que no haya errores antes, esto determina el primer error para después centrar el campo
                }
            }

            // Verifica si el campo del segundo apellido no está vacío
            if (segundoInput.value === "") {
                mensaje += "El campo del segundo apellido no debe estar vacío\n"
                esValido = false; // Esta línea sirve para invalidar el formulario en caso de que esté mal
                if (!primerError) {
                    primerError = segundoInput; // En caso de que no haya errores antes, esto determina el primer error para después centrar el campo
                }
            }

            // Verifica si el segundo apellido está bien escrito
            if (exRegNombreApellido.test(segundoInput.value) === false) {
                mensaje += "El segundo apellido que ha introducido no es válido\n";
                esValido = false; // Esta línea sirve para invalidar el formulario en caso de que esté mal
                if (!primerError) {
                    primerError = segundoInput; // En caso de que no haya errores antes, esto determina el primer error para después centrar el campo
                }
            }

            // Verifica si el campo del teléfono no está vacío
            if (telefonoInput.value === "") {
                mensaje += "El campo del teléfono no debe estar vacío\n";
                esValido = false; // Esta línea sirve para invalidar el formulario en caso de que esté mal
                if (!primerError) {
                    primerError = telefonoInput; // En caso de que no haya errores antes, esto determina el primer error para después centrar el campo
                }
            }

            // Verifica si el teléfono está bien escrito
            if (exRegTelefono.test(telefonoInput.value) === false) {
                mensaje += "El teléfono que ha introducido no es válido\n";
                esValido = false; // Esta línea sirve para invalidar el formulario en caso de que esté mal
                if (!primerError) {
                    primerError = telefonoInput; // En caso de que no haya errores antes, esto determina el primer error para después centrar el campo
                }
            }

            // Verifica si el campo del email no está vacío
            if (emailInput.value === "") {
                mensaje += "El campo del email no debe estar vacío\n"
                esValido = false; // Esta línea sirve para invalidar el formulario en caso de que esté mal
                if (!primerError) {
                    primerError = emailInput; // En caso de que no haya errores antes, esto determina el primer error para después centrar el campo
                }
            }

            // Verifica si el email está bien escrito
            if (exRegEmail.test(emailInput.value) === false) {
                mensaje += "El email que ha introducido no es válido\n";
                esValido = false; // Esta línea sirve para invalidar el formulario en caso de que esté mal
                if (!primerError) {
                    primerError = emailInput; // En caso de que no haya errores antes, esto determina el primer error para después centrar el campo
                }
            }

            // Verifica si el campo de la contarseña no está vacío
            if (contrasena.value === "") {
                mensaje += "El campo de la contraseña no debe estar vacío\n"
                esValido = false; // Esta línea sirve para invalidar el formulario en caso de que esté mal
                if (!primerError) {
                    primerError = contrasena; // En caso de que no haya errores antes, esto determina el primer error para después centrar el campo
                }
            }

            // Si todo es correcto, se envía
            if (esValido) {
                return true;
            } else {
                // Si no es correcto, salta el mensaje y se centra en el campo del primer error
                alert(mensaje);
                primerError.focus();
                return false;
            }
        }
    </script>
</body>

</html>